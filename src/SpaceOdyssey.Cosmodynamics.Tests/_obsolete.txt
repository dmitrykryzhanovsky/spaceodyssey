// Это устаревший код, который исключён из проекта. Однако я его сохранил в исходниках, так как там есть решения, которые могут 
// пригодиться в будущем.

using Microsoft.VisualStudio.TestTools.UnitTesting;

namespace SpaceOdyssey.Cosmodynamics.Tests
{
    [TestClass ()]
    public class CircularOrbitTests
    {
		[TestMethod ()]
		public void RadiusTest ()
		{
			Mass   center   = Mass.CreateByMass (10.0);
			Mass   orbiting = Mass.ZeroMass;
			double a        = 6471000.0;

			double trueAnomaly = 1.42;
			double expected    = 6471000.0;

			CircularOrbit orbit = CircularOrbit.CreateBySemiMajorAxis (center, orbiting, a);

			double actual = orbit.Radius (trueAnomaly);

			Assert.AreEqual (expected, actual, 1.0e-14);
		}

		[TestMethod ()]
		public void TrueAnomalyTest_REqualsA ()
		{
			Mass   center   = Mass.CreateByMass (10.0);
			Mass   orbiting = Mass.ZeroMass;
			double a        = 2.0;

			double r        = 2.0;

			CircularOrbit orbit = CircularOrbit.CreateBySemiMajorAxis (center, orbiting, a);

			double actual = orbit.TrueAnomaly (r);

			Assert.IsTrue (double.IsNaN (actual));
		}

		[TestMethod ()]
		public void TrueAnomalyTest_Exception_RLessRp ()
		{
			Mass   center   = Mass.CreateByMass (10.0);
			Mass   orbiting = Mass.ZeroMass;
			double a        = 2.0;

			double r        = 1.999999999999;

			CircularOrbit orbit = CircularOrbit.CreateBySemiMajorAxis (center, orbiting, a);

			bool argumentOutOfRangeException = false;

			try
			{
				double actual = orbit.TrueAnomaly (r);
			}

			catch (ArgumentOutOfRangeException)
			{
				argumentOutOfRangeException = true;
			}

			Assert.IsTrue (argumentOutOfRangeException);
		}
	}
}